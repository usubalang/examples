/* This code was generated by Usuba.
   See https://github.com/DadaIsCrazy/usuba. */


/* Do NOT change the order of those define/include */
#define NO_RUNTIME
#ifndef BITS_PER_REG
#define BITS_PER_REG 128
#endif
/* including the architecture specific .h */
#include "SSE.h"

/* auxiliary functions */
void DR__ (/*inputs*/ DATATYPE state__[16], /*outputs*/ DATATYPE stateR__[16]) {
  
  // Variables declaration
  DATATYPE DR_end___1_QR___1_QR_end___1__tmp3_;
  DATATYPE DR_end___1_QR___1_QR_end___1__tmp4_;
  DATATYPE DR_end___1_QR___1_QR_start___1__tmp1_;
  DATATYPE DR_end___1_QR___1_QR_start___1__tmp2_;
  DATATYPE DR_end___1_QR___1__tmp5_[4];
  DATATYPE DR_end___1_QR___2_QR_end___1__tmp3_;
  DATATYPE DR_end___1_QR___2_QR_end___1__tmp4_;
  DATATYPE DR_end___1_QR___2_QR_start___1__tmp1_;
  DATATYPE DR_end___1_QR___2_QR_start___1__tmp2_;
  DATATYPE DR_end___1_QR___2__tmp5_[4];
  DATATYPE DR_end___1_QR___3_QR_end___1__tmp3_;
  DATATYPE DR_end___1_QR___3_QR_end___1__tmp4_;
  DATATYPE DR_end___1_QR___3_QR_start___1__tmp1_;
  DATATYPE DR_end___1_QR___3_QR_start___1__tmp2_;
  DATATYPE DR_end___1_QR___3__tmp5_[4];
  DATATYPE DR_end___1_QR___4_QR_end___1__tmp3_;
  DATATYPE DR_end___1_QR___4_QR_end___1__tmp4_;
  DATATYPE DR_end___1_QR___4_QR_start___1__tmp1_;
  DATATYPE DR_end___1_QR___4_QR_start___1__tmp2_;
  DATATYPE DR_end___1_QR___4__tmp5_[4];
  DATATYPE DR_start___1_QR___1_QR_end___1__tmp3_;
  DATATYPE DR_start___1_QR___1_QR_end___1__tmp4_;
  DATATYPE DR_start___1_QR___1_QR_start___1__tmp1_;
  DATATYPE DR_start___1_QR___1_QR_start___1__tmp2_;
  DATATYPE DR_start___1_QR___1__tmp5_[4];
  DATATYPE DR_start___1_QR___2_QR_end___1__tmp3_;
  DATATYPE DR_start___1_QR___2_QR_end___1__tmp4_;
  DATATYPE DR_start___1_QR___2_QR_start___1__tmp1_;
  DATATYPE DR_start___1_QR___2_QR_start___1__tmp2_;
  DATATYPE DR_start___1_QR___2__tmp5_[4];
  DATATYPE DR_start___1_QR___3_QR_end___1__tmp3_;
  DATATYPE DR_start___1_QR___3_QR_end___1__tmp4_;
  DATATYPE DR_start___1_QR___3_QR_start___1__tmp1_;
  DATATYPE DR_start___1_QR___3_QR_start___1__tmp2_;
  DATATYPE DR_start___1_QR___3__tmp5_[4];
  DATATYPE DR_start___1_QR___4_QR_end___1__tmp3_;
  DATATYPE DR_start___1_QR___4_QR_end___1__tmp4_;
  DATATYPE DR_start___1_QR___4_QR_start___1__tmp1_;
  DATATYPE DR_start___1_QR___4_QR_start___1__tmp2_;
  DATATYPE DR_start___1_QR___4__tmp5_[4];
  DATATYPE _tmp6_[16];


  // Instructions (body)
  DR_start___1_QR___1__tmp5_[0] = ADD(state__[0],state__[4],32);
  DR_start___1_QR___1_QR_start___1__tmp1_ = XOR(state__[12],DR_start___1_QR___1__tmp5_[0]);
  DR_start___1_QR___1__tmp5_[3] = L_ROTATE(DR_start___1_QR___1_QR_start___1__tmp1_,16,32);
  DR_start___1_QR___1__tmp5_[2] = ADD(state__[8],DR_start___1_QR___1__tmp5_[3],32);
  DR_start___1_QR___1_QR_start___1__tmp2_ = XOR(state__[4],DR_start___1_QR___1__tmp5_[2]);
  DR_start___1_QR___1__tmp5_[1] = L_ROTATE(DR_start___1_QR___1_QR_start___1__tmp2_,12,32);
  _tmp6_[0] = ADD(DR_start___1_QR___1__tmp5_[0],DR_start___1_QR___1__tmp5_[1],32);
  DR_start___1_QR___1_QR_end___1__tmp3_ = XOR(DR_start___1_QR___1__tmp5_[3],_tmp6_[0]);
  _tmp6_[12] = L_ROTATE(DR_start___1_QR___1_QR_end___1__tmp3_,8,32);
  _tmp6_[8] = ADD(DR_start___1_QR___1__tmp5_[2],_tmp6_[12],32);
  DR_start___1_QR___1_QR_end___1__tmp4_ = XOR(DR_start___1_QR___1__tmp5_[1],_tmp6_[8]);
  _tmp6_[4] = L_ROTATE(DR_start___1_QR___1_QR_end___1__tmp4_,7,32);
  DR_start___1_QR___2__tmp5_[0] = ADD(state__[1],state__[5],32);
  DR_start___1_QR___2_QR_start___1__tmp1_ = XOR(state__[13],DR_start___1_QR___2__tmp5_[0]);
  DR_start___1_QR___2__tmp5_[3] = L_ROTATE(DR_start___1_QR___2_QR_start___1__tmp1_,16,32);
  DR_start___1_QR___2__tmp5_[2] = ADD(state__[9],DR_start___1_QR___2__tmp5_[3],32);
  DR_start___1_QR___2_QR_start___1__tmp2_ = XOR(state__[5],DR_start___1_QR___2__tmp5_[2]);
  DR_start___1_QR___2__tmp5_[1] = L_ROTATE(DR_start___1_QR___2_QR_start___1__tmp2_,12,32);
  _tmp6_[1] = ADD(DR_start___1_QR___2__tmp5_[0],DR_start___1_QR___2__tmp5_[1],32);
  DR_start___1_QR___2_QR_end___1__tmp3_ = XOR(DR_start___1_QR___2__tmp5_[3],_tmp6_[1]);
  _tmp6_[13] = L_ROTATE(DR_start___1_QR___2_QR_end___1__tmp3_,8,32);
  _tmp6_[9] = ADD(DR_start___1_QR___2__tmp5_[2],_tmp6_[13],32);
  DR_start___1_QR___2_QR_end___1__tmp4_ = XOR(DR_start___1_QR___2__tmp5_[1],_tmp6_[9]);
  _tmp6_[5] = L_ROTATE(DR_start___1_QR___2_QR_end___1__tmp4_,7,32);
  DR_start___1_QR___3__tmp5_[0] = ADD(state__[2],state__[6],32);
  DR_start___1_QR___3_QR_start___1__tmp1_ = XOR(state__[14],DR_start___1_QR___3__tmp5_[0]);
  DR_start___1_QR___3__tmp5_[3] = L_ROTATE(DR_start___1_QR___3_QR_start___1__tmp1_,16,32);
  DR_start___1_QR___3__tmp5_[2] = ADD(state__[10],DR_start___1_QR___3__tmp5_[3],32);
  DR_start___1_QR___3_QR_start___1__tmp2_ = XOR(state__[6],DR_start___1_QR___3__tmp5_[2]);
  DR_start___1_QR___3__tmp5_[1] = L_ROTATE(DR_start___1_QR___3_QR_start___1__tmp2_,12,32);
  _tmp6_[2] = ADD(DR_start___1_QR___3__tmp5_[0],DR_start___1_QR___3__tmp5_[1],32);
  DR_start___1_QR___3_QR_end___1__tmp3_ = XOR(DR_start___1_QR___3__tmp5_[3],_tmp6_[2]);
  _tmp6_[14] = L_ROTATE(DR_start___1_QR___3_QR_end___1__tmp3_,8,32);
  _tmp6_[10] = ADD(DR_start___1_QR___3__tmp5_[2],_tmp6_[14],32);
  DR_start___1_QR___3_QR_end___1__tmp4_ = XOR(DR_start___1_QR___3__tmp5_[1],_tmp6_[10]);
  _tmp6_[6] = L_ROTATE(DR_start___1_QR___3_QR_end___1__tmp4_,7,32);
  DR_start___1_QR___4__tmp5_[0] = ADD(state__[3],state__[7],32);
  DR_start___1_QR___4_QR_start___1__tmp1_ = XOR(state__[15],DR_start___1_QR___4__tmp5_[0]);
  DR_start___1_QR___4__tmp5_[3] = L_ROTATE(DR_start___1_QR___4_QR_start___1__tmp1_,16,32);
  DR_start___1_QR___4__tmp5_[2] = ADD(state__[11],DR_start___1_QR___4__tmp5_[3],32);
  DR_start___1_QR___4_QR_start___1__tmp2_ = XOR(state__[7],DR_start___1_QR___4__tmp5_[2]);
  DR_start___1_QR___4__tmp5_[1] = L_ROTATE(DR_start___1_QR___4_QR_start___1__tmp2_,12,32);
  _tmp6_[3] = ADD(DR_start___1_QR___4__tmp5_[0],DR_start___1_QR___4__tmp5_[1],32);
  DR_start___1_QR___4_QR_end___1__tmp3_ = XOR(DR_start___1_QR___4__tmp5_[3],_tmp6_[3]);
  _tmp6_[15] = L_ROTATE(DR_start___1_QR___4_QR_end___1__tmp3_,8,32);
  _tmp6_[11] = ADD(DR_start___1_QR___4__tmp5_[2],_tmp6_[15],32);
  DR_start___1_QR___4_QR_end___1__tmp4_ = XOR(DR_start___1_QR___4__tmp5_[1],_tmp6_[11]);
  _tmp6_[7] = L_ROTATE(DR_start___1_QR___4_QR_end___1__tmp4_,7,32);
  DR_end___1_QR___1__tmp5_[0] = ADD(_tmp6_[0],_tmp6_[5],32);
  DR_end___1_QR___1_QR_start___1__tmp1_ = XOR(_tmp6_[15],DR_end___1_QR___1__tmp5_[0]);
  DR_end___1_QR___1__tmp5_[3] = L_ROTATE(DR_end___1_QR___1_QR_start___1__tmp1_,16,32);
  DR_end___1_QR___1__tmp5_[2] = ADD(_tmp6_[10],DR_end___1_QR___1__tmp5_[3],32);
  DR_end___1_QR___1_QR_start___1__tmp2_ = XOR(_tmp6_[5],DR_end___1_QR___1__tmp5_[2]);
  DR_end___1_QR___1__tmp5_[1] = L_ROTATE(DR_end___1_QR___1_QR_start___1__tmp2_,12,32);
  stateR__[0] = ADD(DR_end___1_QR___1__tmp5_[0],DR_end___1_QR___1__tmp5_[1],32);
  DR_end___1_QR___1_QR_end___1__tmp3_ = XOR(DR_end___1_QR___1__tmp5_[3],stateR__[0]);
  stateR__[15] = L_ROTATE(DR_end___1_QR___1_QR_end___1__tmp3_,8,32);
  stateR__[10] = ADD(DR_end___1_QR___1__tmp5_[2],stateR__[15],32);
  DR_end___1_QR___1_QR_end___1__tmp4_ = XOR(DR_end___1_QR___1__tmp5_[1],stateR__[10]);
  stateR__[5] = L_ROTATE(DR_end___1_QR___1_QR_end___1__tmp4_,7,32);
  DR_end___1_QR___2__tmp5_[0] = ADD(_tmp6_[1],_tmp6_[6],32);
  DR_end___1_QR___2_QR_start___1__tmp1_ = XOR(_tmp6_[12],DR_end___1_QR___2__tmp5_[0]);
  DR_end___1_QR___2__tmp5_[3] = L_ROTATE(DR_end___1_QR___2_QR_start___1__tmp1_,16,32);
  DR_end___1_QR___2__tmp5_[2] = ADD(_tmp6_[11],DR_end___1_QR___2__tmp5_[3],32);
  DR_end___1_QR___2_QR_start___1__tmp2_ = XOR(_tmp6_[6],DR_end___1_QR___2__tmp5_[2]);
  DR_end___1_QR___2__tmp5_[1] = L_ROTATE(DR_end___1_QR___2_QR_start___1__tmp2_,12,32);
  stateR__[1] = ADD(DR_end___1_QR___2__tmp5_[0],DR_end___1_QR___2__tmp5_[1],32);
  DR_end___1_QR___2_QR_end___1__tmp3_ = XOR(DR_end___1_QR___2__tmp5_[3],stateR__[1]);
  stateR__[12] = L_ROTATE(DR_end___1_QR___2_QR_end___1__tmp3_,8,32);
  stateR__[11] = ADD(DR_end___1_QR___2__tmp5_[2],stateR__[12],32);
  DR_end___1_QR___2_QR_end___1__tmp4_ = XOR(DR_end___1_QR___2__tmp5_[1],stateR__[11]);
  stateR__[6] = L_ROTATE(DR_end___1_QR___2_QR_end___1__tmp4_,7,32);
  DR_end___1_QR___3__tmp5_[0] = ADD(_tmp6_[2],_tmp6_[7],32);
  DR_end___1_QR___3_QR_start___1__tmp1_ = XOR(_tmp6_[13],DR_end___1_QR___3__tmp5_[0]);
  DR_end___1_QR___3__tmp5_[3] = L_ROTATE(DR_end___1_QR___3_QR_start___1__tmp1_,16,32);
  DR_end___1_QR___3__tmp5_[2] = ADD(_tmp6_[8],DR_end___1_QR___3__tmp5_[3],32);
  DR_end___1_QR___3_QR_start___1__tmp2_ = XOR(_tmp6_[7],DR_end___1_QR___3__tmp5_[2]);
  DR_end___1_QR___3__tmp5_[1] = L_ROTATE(DR_end___1_QR___3_QR_start___1__tmp2_,12,32);
  stateR__[2] = ADD(DR_end___1_QR___3__tmp5_[0],DR_end___1_QR___3__tmp5_[1],32);
  DR_end___1_QR___3_QR_end___1__tmp3_ = XOR(DR_end___1_QR___3__tmp5_[3],stateR__[2]);
  stateR__[13] = L_ROTATE(DR_end___1_QR___3_QR_end___1__tmp3_,8,32);
  stateR__[8] = ADD(DR_end___1_QR___3__tmp5_[2],stateR__[13],32);
  DR_end___1_QR___3_QR_end___1__tmp4_ = XOR(DR_end___1_QR___3__tmp5_[1],stateR__[8]);
  stateR__[7] = L_ROTATE(DR_end___1_QR___3_QR_end___1__tmp4_,7,32);
  DR_end___1_QR___4__tmp5_[0] = ADD(_tmp6_[3],_tmp6_[4],32);
  DR_end___1_QR___4_QR_start___1__tmp1_ = XOR(_tmp6_[14],DR_end___1_QR___4__tmp5_[0]);
  DR_end___1_QR___4__tmp5_[3] = L_ROTATE(DR_end___1_QR___4_QR_start___1__tmp1_,16,32);
  DR_end___1_QR___4__tmp5_[2] = ADD(_tmp6_[9],DR_end___1_QR___4__tmp5_[3],32);
  DR_end___1_QR___4_QR_start___1__tmp2_ = XOR(_tmp6_[4],DR_end___1_QR___4__tmp5_[2]);
  DR_end___1_QR___4__tmp5_[1] = L_ROTATE(DR_end___1_QR___4_QR_start___1__tmp2_,12,32);
  stateR__[3] = ADD(DR_end___1_QR___4__tmp5_[0],DR_end___1_QR___4__tmp5_[1],32);
  DR_end___1_QR___4_QR_end___1__tmp3_ = XOR(DR_end___1_QR___4__tmp5_[3],stateR__[3]);
  stateR__[14] = L_ROTATE(DR_end___1_QR___4_QR_end___1__tmp3_,8,32);
  stateR__[9] = ADD(DR_end___1_QR___4__tmp5_[2],stateR__[14],32);
  DR_end___1_QR___4_QR_end___1__tmp4_ = XOR(DR_end___1_QR___4__tmp5_[1],stateR__[9]);
  stateR__[4] = L_ROTATE(DR_end___1_QR___4_QR_end___1__tmp4_,7,32);

}

/* main function */
void Chacha20__ (/*inputs*/ DATATYPE plain__[16], /*outputs*/ DATATYPE cipher__[16]) {
  
  // Variables declaration
  DATATYPE state__[16];


  // Instructions (body)
  state__[0] = plain__[0];
  state__[1] = plain__[1];
  state__[2] = plain__[2];
  state__[3] = plain__[3];
  state__[4] = plain__[4];
  state__[5] = plain__[5];
  state__[6] = plain__[6];
  state__[7] = plain__[7];
  state__[8] = plain__[8];
  state__[9] = plain__[9];
  state__[10] = plain__[10];
  state__[11] = plain__[11];
  state__[12] = plain__[12];
  state__[13] = plain__[13];
  state__[14] = plain__[14];
  state__[15] = plain__[15];
  for (int i = 1; i <= 10; i++) {
    DR__(state__,state__);
  }
  cipher__[0] = state__[0];
  cipher__[1] = state__[1];
  cipher__[2] = state__[2];
  cipher__[3] = state__[3];
  cipher__[4] = state__[4];
  cipher__[5] = state__[5];
  cipher__[6] = state__[6];
  cipher__[7] = state__[7];
  cipher__[8] = state__[8];
  cipher__[9] = state__[9];
  cipher__[10] = state__[10];
  cipher__[11] = state__[11];
  cipher__[12] = state__[12];
  cipher__[13] = state__[13];
  cipher__[14] = state__[14];
  cipher__[15] = state__[15];

}
 